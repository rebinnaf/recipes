(this.webpackJsonprecipes=this.webpackJsonprecipes||[]).push([[0],{219:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);var c=n(55),r=n.n(c),a=n(82),i=n(0),s=n.n(i),o=n(186),j=n.n(o),l=n(35),d=n(78),b=n(205),p=n(37),u=n(206),h=n(207),O=(n(219),n(58)),x=n(16),m=n(3),g=function(){return Object(m.jsx)("div",{className:"px4 flex",children:Object(m.jsx)("h2",{className:"h2",children:"404: not found!"})})},f=n(4),v=n(345),w=n(346),y=n(347),S=n(203),k=n(349),R=n(350),C=n(204),I=n(153),q=n(351),N=n(365);function T(){var e=Object(x.g)(),t=Object(i.useState)(""),n=Object(f.a)(t,2),c=n[0],r=n[1];return Object(m.jsxs)(v.a,{align:"center",children:[Object(m.jsx)(w.a,{py:"2",bg:"purple.200",align:"center",children:Object(m.jsx)(y.a,{align:"center",justify:"space-around",children:Object(m.jsxs)(y.a,{align:"center",children:[Object(m.jsx)(N.a.div,{animate:{scale:[1,1.2,1.2,1.2,1],rotate:[0,0,30,-30,0]},transition:{duration:2,loop:1/0,times:[0,.2,.5,.8,1],repeatDelay:2},children:Object(m.jsx)(I.a,{as:C.a,mx:"5",mt:"-3"})}),"Let's Cook!"]})})}),Object(m.jsxs)(v.a,{bg:"purple.50",children:[Object(m.jsx)(S.a,{colorScheme:"purple",variant:"outline",width:["50%","50%","50%","10%"],children:Object(m.jsx)(O.b,{to:"/",children:"All Recipes"})}),Object(m.jsx)(S.a,{colorScheme:"purple",variant:"outline",width:["50%","50%","50%","10%"],children:Object(m.jsx)(O.b,{to:"/recipes/create",children:"Create Recipe"})}),Object(m.jsxs)(y.a,{width:["100%","100%","100%","20%"],children:[Object(m.jsx)(k.a,{placeholder:"Search Recipes by Name",size:"sm",onChange:function(e){return r(e.target.value)}}),Object(m.jsx)(R.a,{"aria-label":"Search Recipes",colorScheme:"purple",variant:"outline",size:"sm",icon:Object(m.jsx)(q.a,{}),onClick:function(){e.push("/recipes/search/".concat(c))}})]})]})]})}var W=n(66),_=n(357),z=n(352),A=n(353),P=n(354),M=n(355),$=n(356);function D(e){var t=e.image,n=e.title,c=e.subtitle,r=e.category,a=e.description,s=e.buttonContent,o=void 0===s?"Open":s,j=e.targetPath,l=void 0===j?"/":j,d=e.onDelete,b=Object(i.useState)(!1),p=Object(f.a)(b,2),u=p[0],h=p[1],g=Object(x.g)();return Object(m.jsxs)(v.a,{width:["90%","50%","25%","15%"],borderWidth:"3px",borderRadius:"lg",overflow:"hidden",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},className:"relative",children:[Object(m.jsx)(v.a,{className:"relative",children:Object(m.jsxs)(z.a,{mx:"12",my:"2",children:[Object(m.jsx)(A.a,{size:t?"full":"2xl",minH:"100px",minW:"100px",name:n,src:t}),u&&Object(m.jsx)(z.a,{className:"absolute w-full h-full bg-indigo-600 bg-opacity-25",children:Object(m.jsx)(v.a,{children:Object(m.jsx)(N.a.div,{className:"h-0",animate:{marginBottom:"60px"},children:Object(m.jsx)(S.a,{colorScheme:"purple",variant:"solid",to:l,children:o})})})}),Object(m.jsx)(O.b,{to:l,className:"absolute inset-0"})]})}),Object(m.jsxs)(z.a,{d:"flex",alignItems:"baseline",children:[Object(m.jsx)(P.a,{borderRadius:"full",px:"2",colorScheme:"teal",children:r}),Object(m.jsx)(v.a,{color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",fontSize:"xs",textTransform:"uppercase",ml:"2",children:c})]}),Object(m.jsxs)(v.a,{mt:"2",p:"2",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:[Object(m.jsxs)(y.a,{justify:"space-between",children:[Object(m.jsx)(v.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:n}),d&&Object(m.jsxs)(y.a,{children:[Object(m.jsx)(N.a.div,{animate:{scale:[.5,1]},transition:{duration:.2,times:[0,.5,1]},children:Object(m.jsx)(R.a,{size:"sm",colorScheme:"purple",variant:"ghost","aria-label":"Delete Recipe",icon:Object(m.jsx)(M.a,{}),onClick:d})}),Object(m.jsx)(N.a.div,{animate:{scale:[.5,1]},transition:{duration:.2,times:[0,.5,1]},children:Object(m.jsx)(R.a,{size:"sm",colorScheme:"blue",variant:"ghost","aria-label":"Edit Recipe database",icon:Object(m.jsx)($.a,{}),onClick:function(){return g.push("/".concat(l,"/edit"))}})})]})]}),Object(m.jsx)(v.a,{children:a})]})]})}var F,L,E,J,B,H,Q=n(368),Z=n(89),G=n(91),K=Object(G.a)(F||(F=Object(Z.a)(["\n  {\n    recipes {\n      _id\n      cookingTime\n      createdAt\n      name\n      numberOfServings\n    }\n  }\n"]))),V=Object(G.a)(L||(L=Object(Z.a)(["\n  query ($id: ObjectId!) {\n    recipe(query: { _id: $id }) {\n      _id\n      cookingTime\n      createdAt\n      name\n      numberOfServings\n      preparationSteps\n      ingredients {\n        product\n        quantity\n        unit\n      }\n    }\n  }\n"]))),X=Object(G.a)(E||(E=Object(Z.a)(["\n  mutation ($data: RecipeInsertInput!) {\n    insertOneRecipe(data: $data) {\n      _id\n    }\n  }\n"]))),U=Object(G.a)(J||(J=Object(Z.a)(["\n  mutation ($data: RecipeInsertInput!) {\n    replaceOneRecipe(data: $data) {\n      _id\n    }\n  }\n"]))),Y=Object(G.a)(B||(B=Object(Z.a)(["\n  mutation ($id: ObjectId!) {\n    deleteOneRecipe(query: { _id: $id }) {\n      _id\n    }\n  }\n"]))),ee=Object(G.a)(H||(H=Object(Z.a)(["\n  query ($name: String!) {\n    recipes(query: { name: $name }) {\n      _id\n      cookingTime\n      createdAt\n      name\n      numberOfServings\n      preparationSteps\n    }\n  }\n"]))),te=n(94),ne=n.n(te);function ce(e){var t=e._id,n=e.name,c=e.cookingTime,i=e.createdAt,s=Object(x.g)(),o=Object(Q.a)(Y),j=Object(f.a)(o,1)[0];function l(){return(l=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({variables:{id:t}});case 2:s.push("/");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsx)(D,{title:n,subtitle:"".concat(i?ne()(i).fromNow():""),description:"".concat(c," minutes"),category:n,buttonContent:"Let's cook it!",targetPath:"/recipes/".concat(t),onDelete:function(){return l.apply(this,arguments)}})}function re(e){var t=e.searchMode,n=void 0!==t&&t,c=Object(x.h)(),r=n?ee:K,a=n?{name:c.recipeName}:{},i=Object(Q.b)(r,{variables:a,fetchPolicy:"network-only"}),s=i.data,o=i.error;return i.loading?Object(m.jsx)("div",{}):o?Object(m.jsx)("div",{children:o}):Object(m.jsxs)(_.a,{p:"5",spacing:"30px",justify:"center",align:"center",overflow:"hidden",children:[Object(m.jsx)(D,{title:"+",subtitle:"",description:"Add new recipe",category:"New Recipe",buttonContent:"Add New Recipe!",targetPath:"/recipes/create"}),s&&s.recipes&&s.recipes.map((function(e,t){return Object(m.jsx)(ce,Object(W.a)({},e),"recipe-".concat(t))}))]})}var ae=n(23),ie=n(56),se=n(369),oe=n(88),je=n(134),le=n(359),de=["name","id"];function be(e){var t=e.name,n=e.id,c=Object(je.a)(e,de);return Object(m.jsx)(y.a,{flex:"1",children:Object.entries(c).map((function(e,c){var r=Object(f.a)(e,1)[0];return Object(m.jsx)(oe.a,{name:"".concat(t,".").concat(n,".").concat(r)},"name.".concat(c,".").concat(r))}))})}function pe(e){var t=e.label,n=e.inputRows,c=e.defaultRow,r=e.push,a="string"===typeof n[0];return Object(m.jsxs)(y.a,{children:[Object(m.jsx)(z.a,{borderWidth:"4px",px:"3",align:"center",children:"-"}),a?Object(m.jsx)(z.a,{flex:"1",borderWidth:"3px",px:"3",align:"center",children:t}):n.length>0?Object.keys(n[0]).map((function(e,t){return Object(m.jsx)(z.a,{flex:"1",borderWidth:"3px",px:"3",align:"center",children:e},"title-".concat(t))})):Object(m.jsx)(z.a,{flex:"1",borderWidth:"3px",px:"3",align:"center",children:t}),Object(m.jsx)(R.a,{onClick:function(){return r(c)},"aria-label":"add row",icon:Object(m.jsx)(le.a,{}),children:"Add Row"})]})}function ue(e){var t=e.name,n=e.inputRows,c=Object(ae.d)(t),r=Object(f.a)(c,2)[1],a=r.error,i=r.touched;return Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ae.a,{name:t,children:function(c){var r=c.push,a=c.remove;return Object(m.jsxs)(v.a,{children:[Object(m.jsx)(pe,Object(W.a)(Object(W.a)({},e),{},{push:r})),n.map((function(e,n){return Object(m.jsxs)(y.a,{children:[Object(m.jsx)(z.a,{borderWidth:"3px",px:"3",align:"center",children:n+1}),"string"===typeof e?Object(m.jsx)(oe.d,{name:"".concat(t,".").concat(n),label:""}):Object(m.jsx)(be,Object(W.a)({name:t,id:n},e)),Object(m.jsx)(R.a,{onClick:function(){return a(n)},"aria-label":"delete row",icon:Object(m.jsx)(M.a,{})})]},"input-row-".concat(n))}))]})}}),i&&a&&"string"===typeof a&&Object(m.jsx)(v.a,{textAlign:"left",color:"red",children:a})]})}var he=n(358);function Oe(e){var t=e.left,n=e.right,c=e.children;return Object(m.jsxs)(v.a,{align:"center",m:"5",children:[Object(m.jsx)(he.a,{children:"Cooking Time"}),Object(m.jsxs)(y.a,{align:"center",children:[t&&Object(m.jsx)(P.a,{colorScheme:"purple",fontSize:"0.8em",p:"2",children:t}),c,n&&Object(m.jsx)(P.a,{colorScheme:"purple",fontSize:"0.8em",p:"2",children:n})]})]})}var xe=n(360),me=n(370),ge=["title","children"];function fe(e){var t=e.title,n=void 0===t?"Open":t,c=e.children,r=Object(je.a)(e,ge),a=Object(xe.a)(),i=a.isOpen,s=a.onToggle;return Object(m.jsxs)(v.a,Object(W.a)(Object(W.a)({borderWidth:"3px",borderRadius:"lg",overflow:"auto"},r),{},{children:[Object(m.jsx)(S.a,{className:"block",w:"100%",onClick:s,children:n}),Object(m.jsx)(me.a,{in:i,animateOpacity:!0,children:Object(m.jsx)(v.a,{p:"3",children:c})})]}))}var ve=ie.c({name:ie.d().required(),preparationSteps:ie.a().required().min(2).of(ie.d().required()),ingredients:ie.a().required().min(2).of(ie.c().shape({product:ie.d().required(),quantity:ie.b().required(),unit:ie.d().required()})),cookingTime:ie.b().required().min(5)}),we={product:"",quantity:0,unit:"kg"};function ye(e){var t=e.editMode,n=void 0!==t&&t,c=Object(Q.a)(X),i=Object(f.a)(c,1)[0],s=Object(Q.a)(U),o=Object(f.a)(s,1)[0],j=Object(x.h)(),l=Object(x.g)(),d={name:"",cookingTime:10,preparationSteps:["nadia"],ingredients:[we]};if(n){var b=Object(Q.b)(V,{variables:{id:j.recipeId}}),p=b.data,u=b.error;if(b.loading)return Object(m.jsx)(v.a,{});if(u)return Object(m.jsx)(v.a,{children:u});delete p.recipe.__typename,p.recipe.ingredients.forEach((function(e){delete e.__typename})),d=p.recipe}function h(){return(h=Object(a.a)(r.a.mark((function e(t,c){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log({values:t,actions:c}),c.setSubmitting(!1),!n){e.next=9;break}return a=Object.assign(t,{_id:j.recipeId}),e.next=6,o({variables:{data:a}});case 6:l.push("/recipes/".concat(j.recipeId)),e.next=13;break;case 9:return t.createdAt=ne()().toISOString(),e.next=12,i({variables:{data:t}});case 12:l.push("/");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsx)(v.a,{align:"center",justify:"center",children:Object(m.jsxs)(v.a,{width:["100%","100%","100%","50%"],align:"center",justify:"center",borderWidth:"3px",borderRadius:"lg",children:[Object(m.jsx)(w.a,{bg:"purple.300",color:"white",children:"Add New Recipe"}),Object(m.jsx)(v.a,{p:"1",children:Object(m.jsx)(ae.c,{initialValues:d,onSubmit:function(e,t){return h.apply(this,arguments)},validationSchema:ve,children:function(e){var t=e.values;return Object(m.jsxs)(ae.b,{children:[Object(m.jsxs)(y.a,{children:[Object(m.jsx)(oe.a,{name:"name",label:"Name",m:"5"}),Object(m.jsx)(Oe,{right:"Min",children:Object(m.jsx)(oe.b,{name:"cookingTime",label:""})})]}),Object(m.jsx)(fe,{title:"Preparation Steps",children:Object(m.jsx)(ue,{name:"preparationSteps",label:"Preparation Steps",inputRows:t.preparationSteps,defaultRow:""})}),Object(m.jsx)(fe,{title:"Ingredients",my:"5",children:Object(m.jsx)(ue,{name:"ingredients",label:"ingredients",inputRows:t.ingredients,defaultRow:we})}),Object(m.jsxs)(se.a,{spacing:"10px",children:[Object(m.jsx)(S.a,{type:"submit",flex:"1",colorScheme:"purple",bg:"purple.900",children:"Submit"}),Object(m.jsx)(oe.c,{flex:"1",colorScheme:"purple",children:"Reset"})]})]})}})})]})})}var Se=n(362),ke=n(363),Re=n(364),Ce=n.p+"static/media/DefaultImage.0d959e90.jpg",Ie=n(361);function qe(e){var t=e.ingredients;return Object(m.jsxs)(y.a,{justify:"space-between",children:[Object(m.jsx)(w.a,{size:"lg",children:"Ingredients"}),Object(m.jsx)(v.a,{bg:"purple.50",w:"50%",borderWidth:"3px",borderRadius:"lg",p:"5",children:Object(m.jsx)(Ie.b,{children:t.map((function(e,t){return Object(m.jsx)(Ie.a,{children:Object(m.jsxs)(Se.a,{ml:"1",as:"b",children:[e.product,Object(m.jsxs)(P.a,{px:"3",ml:"3",variant:"outline",colorScheme:"purple",color:"purple.900",children:[e.quantity,Object(m.jsx)(Se.a,{ml:"1",as:"b",children:e.unit})]})]})},"ingredient-".concat(t))}))})})]})}function Ne(e){var t=e.preparationSteps;return Object(m.jsxs)(v.a,{my:"10",children:[Object(m.jsx)(w.a,{size:"lg",mb:"2",children:"Prepation Steps"}),t.map((function(e,t){return Object(m.jsxs)(v.a,{borderWidth:"3px",borderRadius:"lg",children:[Object(m.jsx)(z.a,{children:Object(m.jsxs)(P.a,{px:"5",variant:"outline",colorScheme:"purple",color:"purple.900",children:["Step ",t+1]})}),Object(m.jsx)(Se.a,{p:"5",children:e})]},"ingredient-".concat(t))}))]})}function Te(){var e=Object(x.h)(),t=Object(Q.b)(V,{variables:{id:e.recipeId},fetchPolicy:"cache-and-network"}),n=t.data,c=t.error;if(t.loading)return Object(m.jsx)(v.a,{});if(c)return Object(m.jsx)(v.a,{children:c});var r=n.recipe,a=r.name,i=r.numberOfServings,s=r.ingredients,o=r.preparationSteps,j=r.cookingTime,l=r.createdAt;return Object(m.jsx)(v.a,{align:"center",children:Object(m.jsxs)(v.a,{width:["100%","100%","100%","50%"],height:"50%",align:"center",borderWidth:"3px",borderRadius:"lg",overflow:"hidden",children:[Object(m.jsx)(w.a,{size:"md",bg:"purple.900",color:"purple.200",children:Object(m.jsx)(z.a,{children:Object(m.jsxs)(Se.a,{as:"cite",children:["Served ",i," Times (",l?"Created at ".concat(ne()(l).fromNow()):"",")"]})})}),Object(m.jsx)(ke.a,{h:"50vh",objectFit:"cover",src:Ce,alt:"Dan Abramov"}),Object(m.jsx)(w.a,{size:"2xl",bg:"purple.200",color:"purple.900",children:a}),Object(m.jsx)(w.a,{size:"md",bg:"purple.900",color:"purple.200",children:Object(m.jsxs)(y.a,{align:"center",justify:"center",children:[Object(m.jsx)(Re.a,{mr:"2"}),j," Min"]})}),Object(m.jsxs)(v.a,{align:"left",p:"5",pb:"0",children:[Object(m.jsx)(qe,{ingredients:s}),Object(m.jsx)(Ne,{preparationSteps:o})]})]})})}var We=n(366);function _e(){return Object(m.jsx)(O.a,{children:Object(m.jsxs)(We.a,{children:[Object(m.jsx)(T,{}),Object(m.jsxs)(x.d,{children:[Object(m.jsx)(x.b,{path:"/recipes/create",children:Object(m.jsx)(ye,{})}),Object(m.jsx)(x.b,{path:"/recipes/search/:recipeName",children:Object(m.jsx)(re,{searchMode:!0})}),Object(m.jsx)(x.b,{path:"/recipes/:recipeId/edit",children:Object(m.jsx)(ye,{editMode:!0})}),Object(m.jsx)(x.b,{path:"/recipes/:recipeId",children:Object(m.jsx)(Te,{})}),Object(m.jsx)(x.b,{path:"/recipes",children:Object(m.jsx)(re,{})}),Object(m.jsx)(x.a,{from:"/",to:"/recipes"}),Object(m.jsx)(x.b,{component:g})]})]})})}var ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,371)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},Ae=function(){var e=Object(a.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://eu-west-1.aws.realm.mongodb.com/api/client/v2.0/app/recipes-slphl/auth/providers/api-key/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"ypy6OoZTy30O7H08D8Ip5tQM6gQXJ0IrZ6PJrLjxhb9CGuSKFRtSQuCE6Z1FmsOW"})});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return n=e.sent,c=n.access_token,e.abrupt("return","Bearer ".concat(c));case 9:return e.abrupt("return","");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=Object(h.a)(Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return t=e.sent,e.abrupt("return",{token:t});case 4:case"end":return e.stop()}}),e)})))),Me=new p.a((function(e,t){var n=e.getContext().token;return e.setContext((function(){return{headers:{Authorization:n}}})),t(e)})),$e=new b.a({uri:"https://eu-west-1.aws.realm.mongodb.com/api/client/v2.0/app/recipes-slphl/graphql"}),De=new u.a,Fe=new d.a({link:p.a.from([Pe,Me.concat($e)]),cache:De});j.a.render(Object(m.jsxs)(s.a.StrictMode,{children:[Object(m.jsx)(l.a,{client:Fe,children:Object(m.jsx)(_e,{})}),","]}),document.getElementById("root")),ze()}},[[329,1,2]]]);
//# sourceMappingURL=main.830f735b.chunk.js.map